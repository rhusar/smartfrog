#include "org/smartfrog/components.sf"
#from envParser:clEnvTest #include "org/smartfrog/osgi/test/components.sf"
#include "org/smartfrog/examples/counter/components.sf"

meta extends DATA { sfClassLoadingEnvironment LAZY PROCESS:envTarget:clEnvTest; }

sfConfig extends Compound {
    sfProcessComponentName "TestApp";
    sfApplicationEnvironment LAZY PROCESS:envTarget;

    subprocess extends Compound {
        sfDeployer LAZY PROCESS:envTarget:deployerTest;
        sfProcessName "testProcess";

        testProvider extends MessageProvider {
            sfMeta extends DATA meta;
        }
        //testProvider extends Counter { limit 5; }
    }

    testPrinter extends MessagePrinter {
        //sfProcessHost "pernet-o-2";
        sfMeta extends DATA meta;
        messageSource LAZY subprocess:testProvider;
    }
}