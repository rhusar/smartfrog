#include "org/smartfrog/components.sf"
#from envParser:clEnvTest #include "org/smartfrog/osgi/test/components.sf"
#include "org/smartfrog/examples/counter/components.sf"

sfConfig extends Compound {
    sfProcessComponentName "TestApp";
    sfApplicationEnvironment LAZY PROCESS:envTarget;

    subprocess extends Compound {
        sfDeployer LAZY PROCESS:envTarget:deployerTest;
        sfProcessName "testProcess";

        testProvider extends MessageProvider {
            sfClassLoadingEnvironment LAZY PROCESS:envTarget:clEnvTest;
        }
        //testProvider extends Counter { limit 5; }
    }

    testPrinter extends MessagePrinter {
        //sfProcessHost "pernet-o-2";
        sfClassLoadingEnvironment LAZY PROCESS:envTarget:clEnvTest;
        messageSource LAZY subprocess:testProvider;
    }
}